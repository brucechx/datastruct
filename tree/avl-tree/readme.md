# AVl 树

## 定义
* AVL树是带有平衡条件的二叉搜索树。<br>其平衡条件为 每个节点的左子树和右子树的高度差最多为1

## 说明
### 插入
把需要重新平衡的结点叫做α，由于任意两个结点最多只有两个儿子，因此高度不平衡时，α结点的两颗子树的高度相差2.<br>容易看出，这种不平衡可能出现在下面4中情况中：<br>
1. 对α的左儿子的左子树进行一次插入
2. 对α的左儿子的右子树进行一次插入
3. 对α的右儿子的左子树进行一次插入
4. 对α的右儿子的右子树进行一次插入

情形1和情形4是关于α的镜像对称，二情形2和情形3也是关于α的镜像对称，因此理论上看只有两种情况，但编程的角度看还是四种情形。<br>
第一种情况是插入发生在“外边”的情形（左左或右右），该情况可以通过一次单旋转完成调整；第二种情况是插入发生在“内部”的情形（左右或右左），这种情况比较复杂，需要通过双旋转来调整。


### 删除
AVL树的删除操作：<br>
同插入操作一样，删除结点时也有可能破坏平衡性，这就要求我们删除的时候要进行平衡性调整。
删除分为以下几种情况：<br>
首先在整个二叉树中搜索要删除的结点，如果没搜索到直接返回不作处理，否则执行以下操作：<br>
1. 要删除的节点是当前根节点T。<br>
如果左右子树都非空。在高度较大的子树中实施删除操作。<br>
分两种情况：
    * 左子树高度大于右子树高度，将左子树中最大的那个元素赋给当前根节点，然后删除左子树中元素值最大的那个节点。
    * 左子树高度小于右子树高度，将右子树中最小的那个元素赋给当前根节点，然后删除右子树中元素值最小的那个节点。
    如果左右子树中有一个为空，那么直接用那个非空子树或者是NULL替换当前根节点即可。

2. 要删除的节点元素值小于当前根节点T值，在左子树中进行删除。<br>
递归调用，在左子树中实施删除。<br>
这个是需要判断当前根节点是否仍然满足平衡条件，
如果满足平衡条件，只需要更新当前根节点T的高度信息。
否则，需要进行旋转调整：如果T的左子节点的左子树的高度大于T的左子节点的右子树的高度，进行相应的单旋转。否则进行双旋转。
3. 要删除的节点元素值大于当前根节点T值，在右子树中进行删除。


## 参考
- [AVL树](https://suanfa.herokuapp.com/3%E6%A0%91/avltree/)
- [平衡二叉树详解](https://blog.csdn.net/u010442302/article/details/52713585)
- [一步一步写平衡二叉树（AVL树）](https://www.cnblogs.com/andyidea/archive/2012/08/20/2642583.html)